<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <!-- Bootstrap CSS only -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
        integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/e24e3b5ff1.js" crossorigin="anonymous"></script>
    <style>
        .img {
            height: 150px;
            width: 150px;
            border-radius: 50%;
            
        }
    </style>
</head>

<body>
    <div id="app">
        <div class="container">
            <div class="row">
                <dic class="col-8 offset-2">
                    <div class="card mt-5">
                        <div class="card-header">
                            <h2 class="card-title">VOTE 4 THE BEST BLIZZARD GAME</h2>
                        </div>
                        <div class="card-body">
                            <div 
                            v-for="entry in sortedEntries"
                            class="media my-3">
                                <img  class ="img" v-bind:src="entry.image" alt="" class="mr-3">
                                <div class="ml-2 media-body">
                                    <h5>
                                        {{ entry.titel }}
                                        <span 
                                        v-on:click="upvote(entry.id)"
                                        style="cursor: pointer;" 
                                        class="float-right text-primary">
                                            <i class="fa fa-chevron-up"><strong>{{ entry.votes }}</strong></i>
                                        </span>
                                    </h5>
                                    <div class="">
                                        {{ entry.desc }}
                                    </div>
                                    <small class="text-muted">{{ entry.author }}</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </dic>
            </div>
        </div>
    </div>


    <!-- Vue JS  -->
    <script src="http://unpkg.com/vue"></script>
    <script>
        const entries_array = [
            {
                id: 1,
                titel: "World Of Warcraft",
                desc: "World of Warcraft is a massively multiplayer online role-playing game released in 2004 by Blizzard Entertainment. It is the fourth released game set in the Warcraft fantasy universe",
                votes: 12,
                author: "Blizzard",
                image: "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSYgHiu2-JFKRS-gX-Kyrfb8gUrkB3gqFqKgg&usqp=CAU"

            },
            {
                id: 2,
                titel: "Overwatch",
                desc: "Overwatch is a team-based multiplayer first-person shooter developed and published by Blizzard Entertainment.",
                votes: 5,
                author: "Blizzard",
                image: "https://blznav.akamaized.net/img/games/cards/card-overwatch-7eff92e1257149aa.jpg"

            },
            {
                id: 3,
                titel: "Hearthstone",
                desc: "Hearthstone is a free-to-play online digital collectible card game developed and published by Blizzard Entertainment.",
                votes: 19,
                author: "Blizzard",
                image: "https://bnetcmsus-a.akamaihd.net/cms/gallery/QC2Z93TPQFRG1374196167537.jpg"

            },
            {
                id: 4,
                titel: "StarCraft",
                desc: "StarCraft is a military science fiction media franchise created by Chris Metzen and James Phinney and owned by Blizzard Entertainment",
                votes: 11,
                author: "Blizzard",
                image: "https://bnetcmsus-a.akamaihd.net/cms/blog_header/4s/4SQ5PYQAGSLH1595864409745.jpg"

            },
        ]
    </script>

    <script>
        Vue.component("entry-component", {
            template: `<p>hallo ich bin eine komponente</p>`
        })
    </script>

    <script>
        new Vue({
            el: "#app",
            data: {
                entries: entries_array,
            },
            computed: {
                sortedEntries () {
                    return this.entries.sort((a,b) =>{
                        return b.votes - a.votes
                    })
                }
            },
            methods: {
                upvote(entryId){
                    const entry = this.entries.find(entry => entry.id === entryId )
                    entry.votes++
                }
            },
        })
    </script>
</body>

</html>